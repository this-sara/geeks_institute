<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <div id="container">Users:</div>
        <ul class="list">
            <li>John</li>
            <li>Pete</li>
        </ul>
        <ul class="list">
            <li>David</li>
            <li>Sarah</li>
            <li>Dan</li>
        </ul>


        <div id="navBar">
    <ul>
        <li><a href="#">Profile</a></li>
        <li><a href="#">Home</a></li>
        <li><a href="#">My Friends</a></li>
        <li><a href="#">Messenger</a></li>
        <li><a href="#">My Pics</a></li>
    </ul>
    </div>
    <section class="listBooks"></section>

        <script>
            // exercise 5
            // 1
            let container = document.getElementById("container");
            // 2
            let firstUl = document.querySelector("ul.list");  
            firstUl.children[1].textContent = "Richard";
            // 3 Delete the second <li> of the second <ul>.
            let secondList = document.querySelectorAll("ul.list")[1];
            secondList.removeChild(secondList.children[1]);
            // 4 Change the name of the first <li> of each <ul> to your name. (Hint : use a loop)
            let lists = document.querySelectorAll("ul.list");
            for (let i = 0; i < lists.length; i++) {
                lists[i].children[0].textContent = "sara"; 
            }  
            //5 Add a class called student_list to both of the <ul>'s.
            for (let i = 0; i < lists.length; i++) {
                lists[i].classList.add("student_list");
            }
            //6 Add the classes university and attendance to the first <ul>.
            lists[0].classList.add("university", "attendance");
            //7 Add a “light blue” background color and some padding to the <div>.
            container.style.backgroundColor = "lightblue";
            container.style.padding = "10px";
            //8 Do not display the <li> that contains the text node “Dan”. (the last <li> of the first <ul>)
            firstUl.lastElementChild.style.display = "none";
            //9 Add a border to the <li> that contains the text node “Richard”. (the second <li> of the <ul>)
            firstUl.children[1].style.border = "1px solid black";
            //10 Change the font size of the whole body.
            document.body.style.fontSize = "20px";
            //11 Bonus: If the background color of the div is “light blue”, alert “Hello x and y” (x and y are the users in the div)
            if (container.style.backgroundColor === "lightblue") {
                let users = [];
                for (let i = 0; i < lists.length; i++) {
                    let lis = lists[i].getElementsByTagName("li");
                    for (let j = 0; j < lis.length; j++) {
                        let user = lis[j];
                        if (user.style.display !== "none") {
                            users.push(user.innerText);
                        }
                    }
                }
                alert(`Hello ${users.join(" and ")}`);
            }

            // Exercise 6

            // 1. Sélectionner le div avec l'id "navBar"
            let navDiv = document.getElementById("navBar");

            // Changer l'attribut id → il devient "socialNetworkNavigation"
            navDiv.setAttribute("id", "socialNetworkNavigation");

            // 2. Ajouter un nouveau <li> avec le texte "Logout"
            // Sélectionner la liste <ul> à l'intérieur du div
            let ul = navDiv.querySelector("ul");

            // Créer un nouvel élément <li>
            let newLi = document.createElement("li");

            // Créer un texte "Logout"
            let textNode = document.createTextNode("Logout");

            // Attacher le texte au <li>
            newLi.appendChild(textNode);

            // Ajouter le <li> complet à la fin de la liste <ul>
            ul.appendChild(newLi);

            // 3. Récupérer le premier et le dernier élément de la liste
            let firstLi = ul.firstElementChild;  // <li> Profile
            let lastLi = ul.lastElementChild;    // <li> Logout

            // Afficher leur texte dans la console
            console.log("First link:", firstLi.textContent); // Profile
            console.log("Last link:", lastLi.textContent);   // Logout
        // Exercise 7
        // 1. Créer un tableau d’objets représentant des livres
            let allBooks = [
            {
                title: "Harry Potter",
                author: "J.K. Rowling",
                image: "https://covers.openlibrary.org/b/id/7984916-L.jpg",
                alreadyRead: true // lu
            },
            {
                title: "The Hobbit",
                author: "J.R.R. Tolkien",
                image: "https://covers.openlibrary.org/b/id/8101351-L.jpg",
                alreadyRead: false // pas lu
            }
            ];

            // 2. Sélectionner la section HTML <section class="listBooks">
            let section = document.querySelector(".listBooks");

            // 3. Parcourir le tableau et afficher chaque livre
            allBooks.forEach(book => {
            // Créer un conteneur <div> pour chaque livre
            let bookDiv = document.createElement("div");
            bookDiv.style.marginBottom = "20px";

            // Créer un paragraphe avec titre + auteur
            let details = document.createElement("p");
            details.textContent = `${book.title} written by ${book.author}`;

            // Si le livre est déjà lu → texte en rouge
            if (book.alreadyRead) {
                details.style.color = "red";
            }

            // Créer une image et fixer la largeur à 100px
            let img = document.createElement("img");
            img.src = book.image;
            img.style.width = "100px";

            // Ajouter le texte et l'image dans le div
            bookDiv.appendChild(details);
            bookDiv.appendChild(img);

            // Ajouter le div dans la section du HTML
            section.appendChild(bookDiv);
            });

            
        </script>
</body>
</html>
